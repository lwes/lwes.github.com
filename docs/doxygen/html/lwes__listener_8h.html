<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>lwes: lwes_listener.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>lwes_listener.h File Reference</h1>
<p>Functions for listening to LWES events.  
<a href="#_details">More...</a></p>

<p><a href="lwes__listener_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlwes__listener.html">lwes_listener</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Listens for LWES events.  <a href="structlwes__listener.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a8b31d18abc7cf3931f3741cc2607528f">lwes_listener_create</a> (<a class="el" href="lwes__types_8h.html#ab426e9825a40d378e7ffc13b5a7be906">LWES_SHORT_STRING</a> address, <a class="el" href="lwes__types_8h.html#ab426e9825a40d378e7ffc13b5a7be906">LWES_SHORT_STRING</a> iface, <a class="el" href="lwes__types_8h.html#a0171d29ac3e49fea5a001037d67327a1">LWES_U_INT_32</a> port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a Listener.  <a href="#a8b31d18abc7cf3931f3741cc2607528f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a4011a1c814a941df9ef374e26dc84f84">lwes_listener_add_header_fields</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, <a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a> bytes, size_t max, size_t *len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy some date from the UDP packet into the event.  <a href="#a4011a1c814a941df9ef374e26dc84f84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#adc9e6e863ef845671e528611e2cefd09">lwes_listener_event_has_name</a> (<a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a> bytes, size_t len, <a class="el" href="lwes__types_8h.html#a0e1a93be8760205fb33e867c17ad2701">LWES_CONST_SHORT_STRING</a> name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine if a serialized event is of a given type.  <a href="#adc9e6e863ef845671e528611e2cefd09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a6629614ff47d3e46d371193603257c42">lwes_listener_recv_process_event</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, struct <a class="el" href="structlwes__event.html">lwes_event</a> *event, int len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This adds headers and deserializes the event.  <a href="#a6629614ff47d3e46d371193603257c42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a263baab7c13391c922dd708dc13f906f">lwes_listener_recv</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, struct <a class="el" href="structlwes__event.html">lwes_event</a> *event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive an event from the listener in a blocking manner.  <a href="#a263baab7c13391c922dd708dc13f906f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#ae9e02493567f0b287429916f925f2e35">lwes_listener_recv_by</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, struct <a class="el" href="structlwes__event.html">lwes_event</a> *event, unsigned int timeout_ms)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive an event from the listener with a timeout.  <a href="#ae9e02493567f0b287429916f925f2e35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a0f29dc0410feb15a88e00caba656db54">lwes_listener_recv_bytes</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, <a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a> bytes, size_t max)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive bytes from the listener in a blocking manner.  <a href="#a0f29dc0410feb15a88e00caba656db54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#aeb380e731eba2808e21090705d1367aa">lwes_listener_recv_bytes_by</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener, <a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a> bytes, size_t max, unsigned int timeout_ms)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive bytes from the listener with a timeout.  <a href="#aeb380e731eba2808e21090705d1367aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lwes__listener_8h.html#a3b43e942fb13926f66de8cd9f1d8031c">lwes_listener_destroy</a> (struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *listener)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a Listener.  <a href="#a3b43e942fb13926f66de8cd9f1d8031c"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions for listening to LWES events. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8b31d18abc7cf3931f3741cc2607528f"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_create" ref="a8b31d18abc7cf3931f3741cc2607528f" args="(LWES_SHORT_STRING address, LWES_SHORT_STRING iface, LWES_U_INT_32 port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlwes__listener.html">lwes_listener</a>* lwes_listener_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#ab426e9825a40d378e7ffc13b5a7be906">LWES_SHORT_STRING</a>&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#ab426e9825a40d378e7ffc13b5a7be906">LWES_SHORT_STRING</a>&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a0171d29ac3e49fea5a001037d67327a1">LWES_U_INT_32</a>&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a Listener. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>address</em>&nbsp;</td><td>The multicast ip address as a dotted quad string of the channel to listen on. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>iface</em>&nbsp;</td><td>The dotted quad ip address of the interface to receive messages on, can be NULL to use default. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>port</em>&nbsp;</td><td>The port of the channel to listen on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lwes__listener_8h.html#a3b43e942fb13926f66de8cd9f1d8031c" title="Destroy a Listener.">lwes_listener_destroy</a></dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A newly created listener, use lwes_listener_destroy to free </dd></dl>

</div>
</div>
<a class="anchor" id="a4011a1c814a941df9ef374e26dc84f84"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_add_header_fields" ref="a4011a1c814a941df9ef374e26dc84f84" args="(struct lwes_listener *listener, LWES_BYTE_P bytes, size_t max, size_t *len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_add_header_fields </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a>&nbsp;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy some date from the UDP packet into the event. </p>
<p>This will add the following fields to the event as additional attributes</p>
<ul>
<li>SenderIP - the ip address of the sender of the event</li>
<li>SenderPort - the port of the sender of the event</li>
<li>ReceiptTime - a timestamp of receipt time, as milliseconds since epoch</li>
</ul>
<p>This should be called immediately after one of</p>
<ul>
<li>lwes_listener_recv</li>
<li>lwes_listener_recv_by</li>
<li>lwes_listener_recv_bytes</li>
<li>lwes_listener_recv_bytes_by in order for the sender ip and port to be accurate</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>The listener which just received the event </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bytes</em>&nbsp;</td><td>The serialized event to add the attributes to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>max</em>&nbsp;</td><td>The maximum size of the serialzed event </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>The current size of the serialized event</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lwes__listener_8h.html#a263baab7c13391c922dd708dc13f906f" title="Receive an event from the listener in a blocking manner.">lwes_listener_recv</a> </dd>
<dd>
<a class="el" href="lwes__listener_8h.html#ae9e02493567f0b287429916f925f2e35" title="Receive an event from the listener with a timeout.">lwes_listener_recv_by</a> </dd>
<dd>
<a class="el" href="lwes__listener_8h.html#a0f29dc0410feb15a88e00caba656db54" title="Receive bytes from the listener in a blocking manner.">lwes_listener_recv_bytes</a> </dd>
<dd>
<a class="el" href="lwes__listener_8h.html#aeb380e731eba2808e21090705d1367aa" title="Receive bytes from the listener with a timeout.">lwes_listener_recv_bytes_by</a></dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 upon success, a negative number upon failure </dd></dl>

</div>
</div>
<a class="anchor" id="adc9e6e863ef845671e528611e2cefd09"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_event_has_name" ref="adc9e6e863ef845671e528611e2cefd09" args="(LWES_BYTE_P bytes, size_t len, LWES_CONST_SHORT_STRING name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_event_has_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a>&nbsp;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a0e1a93be8760205fb33e867c17ad2701">LWES_CONST_SHORT_STRING</a>&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if a serialized event is of a given type. </p>
<p>This function will compare the name in a serialized event against a given name, if they match 0 is returned, if not a non-zero value is returned</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bytes</em>&nbsp;</td><td>The serialized event </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>The current size of the serialized event </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>name</em>&nbsp;</td><td>The name to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the serialized event is of type name, non-zero if it is not. </dd></dl>

</div>
</div>
<a class="anchor" id="a6629614ff47d3e46d371193603257c42"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_recv_process_event" ref="a6629614ff47d3e46d371193603257c42" args="(struct lwes_listener *listener, struct lwes_event *event, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_recv_process_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlwes__event.html">lwes_event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This adds headers and deserializes the event. </p>
<p>This is actually a private function, which will be removed next major version bump of lwes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>the listener which just received the event </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>event</em>&nbsp;</td><td>the event object to deserialize into </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>the size of the serialized event waiting in the listener</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, a negative number on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a263baab7c13391c922dd708dc13f906f"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_recv" ref="a263baab7c13391c922dd708dc13f906f" args="(struct lwes_listener *listener, struct lwes_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlwes__event.html">lwes_event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive an event from the listener in a blocking manner. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>the listener to receive the event from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>event</em>&nbsp;</td><td>the event to fill out</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read on success, a negative number on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ae9e02493567f0b287429916f925f2e35"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_recv_by" ref="ae9e02493567f0b287429916f925f2e35" args="(struct lwes_listener *listener, struct lwes_event *event, unsigned int timeout_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_recv_by </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlwes__event.html">lwes_event</a> *&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive an event from the listener with a timeout. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>the listener to receive the event from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>event</em>&nbsp;</td><td>the event to fill out </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>the maximum amount of time to wait for an event</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read on success, a negative number on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a0f29dc0410feb15a88e00caba656db54"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_recv_bytes" ref="a0f29dc0410feb15a88e00caba656db54" args="(struct lwes_listener *listener, LWES_BYTE_P bytes, size_t max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_recv_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a>&nbsp;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive bytes from the listener in a blocking manner. </p>
<p>This returns the raw bytes and returns them, it will not add header fields nor deserialize the event. This is useful if you want to journal without the cost of deserialization.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>the listener to receive the bytes from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>bytes</em>&nbsp;</td><td>the byte array to write into </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>max</em>&nbsp;</td><td>the maximum number of bytes to write into the bytes array</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read on success, a negative number on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aeb380e731eba2808e21090705d1367aa"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_recv_bytes_by" ref="aeb380e731eba2808e21090705d1367aa" args="(struct lwes_listener *listener, LWES_BYTE_P bytes, size_t max, unsigned int timeout_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_recv_bytes_by </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lwes__types_8h.html#a5f0398fc66cf488fcac017d5c9862ad5">LWES_BYTE_P</a>&nbsp;</td>
          <td class="paramname"> <em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>timeout_ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive bytes from the listener with a timeout. </p>
<p>This returns the raw bytes and returns them, it will not add header fields nor deserialize the event. This is useful if you want to journal without the cost of deserialization.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>the listener to receive the bytes from </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>bytes</em>&nbsp;</td><td>the byte array to write into </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>max</em>&nbsp;</td><td>the maximum number of bytes to write into the bytes array </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout_ms</em>&nbsp;</td><td>the maximum amount of time to wait for bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes read on success, a negative number on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3b43e942fb13926f66de8cd9f1d8031c"></a><!-- doxytag: member="lwes_listener.h::lwes_listener_destroy" ref="a3b43e942fb13926f66de8cd9f1d8031c" args="(struct lwes_listener *listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lwes_listener_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlwes__listener.html">lwes_listener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy a Listener. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>listener</em>&nbsp;</td><td>The listener to destroy by freeing all of it's used memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, negative number on failure </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 27 16:16:15 2012 for lwes by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
